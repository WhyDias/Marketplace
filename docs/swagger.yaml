basePath: /
definitions:
  github_com_WhyDias_Marketplace_internal_controllers.AddCategoryResponse:
    properties:
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      path:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.Category:
    properties:
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      parent_id:
        type: integer
      path:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.CategoryAttribute:
    properties:
      id:
        type: integer
      name:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.CategoryNode:
    properties:
      children:
        items:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.CategoryNode'
        type: array
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      path:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.CheckPhoneRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.CheckPhoneResponse:
    properties:
      exists:
        type: boolean
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.GoodResponse:
    properties:
      good:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.LoginResponse:
    properties:
      access_token:
        type: string
      expires_at:
        description: Unix timestamp
        type: integer
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterRequest:
    properties:
      phone_number:
        type: string
    required:
    - phone_number
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterUserRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      roles:
        description: Добавлено поле для ролей
        items:
          type: string
        type: array
      username:
        type: string
    required:
    - email
    - password
    - roles
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterUserResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RequestPasswordResetRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RequestPasswordResetResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetNewPasswordRequest:
    properties:
      confirm_password:
        type: string
      new_password:
        minLength: 6
        type: string
      username:
        description: Username используется как phone_number
        type: string
    required:
    - confirm_password
    - new_password
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetNewPasswordResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetPasswordRequest:
    properties:
      confirm_password:
        type: string
      password:
        minLength: 6
        type: string
      phone_number:
        type: string
    required:
    - confirm_password
    - password
    - phone_number
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetPasswordResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.UpdateSupplierDetailsRequest:
    properties:
      categories:
        items:
          type: integer
        type: array
      market_id:
        type: integer
      place:
        type: string
      row_name:
        type: string
    required:
    - categories
    - market_id
    - place
    - row_name
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeRequest:
    properties:
      code:
        type: string
      phone_number:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_models.AddCategoryAttributesRequest:
    properties:
      attributes:
        items:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.AttributeRequest'
        type: array
      category_id:
        type: integer
    required:
    - attributes
    - category_id
    type: object
  github_com_WhyDias_Marketplace_internal_models.Attribute:
    properties:
      category_id:
        type: integer
      description:
        description: Добавляем описание
        type: string
      id:
        type: integer
      is_linked:
        type: boolean
      name:
        type: string
      type_of_option:
        type: string
      value:
        items:
          type: integer
        type: array
    type: object
  github_com_WhyDias_Marketplace_internal_models.AttributeRequest:
    properties:
      description:
        type: string
      is_linked:
        type: boolean
      name:
        type: string
      type_of_option:
        enum:
        - dropdown
        - range
        - switcher
        - text
        - numeric
        type: string
      value: {}
    required:
    - description
    - name
    - type_of_option
    type: object
  github_com_WhyDias_Marketplace_internal_models.Category:
    properties:
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      parent_id:
        allOf:
        - $ref: '#/definitions/sql.NullInt64'
        description: Используем sql.NullInt64
      path:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_models.CategoryAttributeResponse:
    properties:
      description:
        description: '*string с omitempty'
        type: string
      id:
        type: integer
      is_linked:
        type: boolean
      name:
        type: string
      type_of_option:
        description: '*string с omitempty'
        type: string
      value: {}
    type: object
  github_com_WhyDias_Marketplace_internal_models.Market:
    properties:
      id:
        type: integer
      name:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_models.ModerationCommentRequest:
    properties:
      content:
        type: string
    required:
    - content
    type: object
  github_com_WhyDias_Marketplace_internal_models.Product:
    properties:
      category_id:
        type: integer
      description:
        type: string
      id:
        type: integer
      market_id:
        type: integer
      name:
        type: string
      price:
        type: number
      status_id:
        type: integer
      stock:
        type: integer
      supplier_id:
        type: integer
    type: object
  github_com_WhyDias_Marketplace_internal_models.UpdateSupplierDetailsResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_utils.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  internal_controllers.AddCategoryResponse:
    properties:
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      path:
        type: string
    type: object
  internal_controllers.Category:
    properties:
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      parent_id:
        type: integer
      path:
        type: string
    type: object
  internal_controllers.CategoryAttribute:
    properties:
      id:
        type: integer
      name:
        type: string
    type: object
  internal_controllers.CategoryNode:
    properties:
      children:
        items:
          $ref: '#/definitions/internal_controllers.CategoryNode'
        type: array
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      path:
        type: string
    type: object
  internal_controllers.CheckPhoneRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  internal_controllers.CheckPhoneResponse:
    properties:
      exists:
        type: boolean
    type: object
  internal_controllers.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  internal_controllers.GoodResponse:
    properties:
      good:
        type: string
    type: object
  internal_controllers.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  internal_controllers.LoginResponse:
    properties:
      access_token:
        type: string
      expires_at:
        description: Unix timestamp
        type: integer
      message:
        type: string
    type: object
  internal_controllers.RegisterRequest:
    properties:
      phone_number:
        type: string
    required:
    - phone_number
    type: object
  internal_controllers.RegisterResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.RegisterUserRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      roles:
        description: Добавлено поле для ролей
        items:
          type: string
        type: array
      username:
        type: string
    required:
    - email
    - password
    - roles
    - username
    type: object
  internal_controllers.RegisterUserResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      message:
        type: string
    type: object
  internal_controllers.RequestPasswordResetRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  internal_controllers.RequestPasswordResetResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.SetNewPasswordRequest:
    properties:
      confirm_password:
        type: string
      new_password:
        minLength: 6
        type: string
      username:
        description: Username используется как phone_number
        type: string
    required:
    - confirm_password
    - new_password
    - username
    type: object
  internal_controllers.SetNewPasswordResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.SetPasswordRequest:
    properties:
      confirm_password:
        type: string
      password:
        minLength: 6
        type: string
      phone_number:
        type: string
    required:
    - confirm_password
    - password
    - phone_number
    type: object
  internal_controllers.SetPasswordResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      message:
        type: string
    type: object
  internal_controllers.UpdateSupplierDetailsRequest:
    properties:
      categories:
        items:
          type: integer
        type: array
      market_id:
        type: integer
      place:
        type: string
      row_name:
        type: string
    required:
    - categories
    - market_id
    - place
    - row_name
    type: object
  internal_controllers.VerifyCodeRequest:
    properties:
      code:
        type: string
      phone_number:
        type: string
    type: object
  internal_controllers.VerifyCodeResponse:
    properties:
      message:
        type: string
    type: object
  sql.NullInt64:
    properties:
      int64:
        type: integer
      valid:
        description: Valid is true if Int64 is not NULL
        type: boolean
    type: object
host: 195.49.215.120:8080
info:
  contact:
    email: support@your-website.com
    name: Support Team
    url: http://your-website.com/support
  description: API для Marketplace приложения.
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT
  termsOfService: http://your-website.com/terms/
  title: Marketplace API
  version: "1.0"
paths:
  /api/categories:
    get:
      consumes:
      - application/json
      description: Получает все категории и подкатегории в иерархическом формате
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.CategoryNode'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      summary: Get all categories
      tags:
      - Categories
    post:
      consumes:
      - multipart/form-data
      description: Добавляет новую категорию с изображением, загружая изображение
        в Yandex Cloud Storage
      parameters:
      - description: Bearer <token>
        in: header
        name: Authorization
        required: true
        type: string
      - description: Название категории
        in: formData
        name: name
        required: true
        type: string
      - description: Путь категории
        in: formData
        name: path
        required: true
        type: string
      - description: Изображение категории
        in: formData
        name: image
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Категория успешно добавлена
          schema:
            $ref: '#/definitions/internal_controllers.AddCategoryResponse'
        "400":
          description: Неверный формат данных или ошибки валидации
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "401":
          description: Необходима авторизация
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Добавить новую категорию
      tags:
      - Categories
  /api/categories/{id}:
    get:
      consumes:
      - application/json
      description: Получает информацию о категории по её ID
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.Category'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      summary: Get category by ID
      tags:
      - Categories
  /api/categories/{id}/attributes:
    get:
      consumes:
      - application/json
      description: Получает список атрибутов, связанных с категорией по её ID
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.CategoryAttribute'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      summary: Get category attributes
      tags:
      - Categories
  /api/categories/root:
    get:
      consumes:
      - application/json
      description: Получает список корневых категорий
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.Category'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      summary: Get root categories
      tags:
      - Categories
  /api/categories/search:
    get:
      consumes:
      - application/json
      description: Возвращает информацию о категории на основе переданного path.
      parameters:
      - description: Path категории
        in: query
        name: path
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Category'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Получение категории по path
      tags:
      - Категории
  /api/categories/subcategories:
    get:
      consumes:
      - application/json
      description: Получает подкатегории первого уровня для заданного пути категории
      parameters:
      - description: Category path
        in: query
        name: path
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.Category'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      summary: Get immediate subcategories
      tags:
      - Categories
  /api/moderation/products/{id}/approve:
    post:
      description: Устанавливает статус продукта на "Подтвержденный" и добавляет комментарий
        "Подтвержден"
      parameters:
      - description: ID продукта
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.GoodResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Подтверждение продукта
      tags:
      - Модерация
  /api/moderation/products/{id}/reject:
    post:
      description: Устанавливает статус продукта на "Отклоненный" и добавляет комментарий
        модератора
      parameters:
      - description: ID продукта
        in: path
        name: id
        required: true
        type: integer
      - description: Комментарий модератора
        in: body
        name: comment
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.ModerationCommentRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.GoodResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Отклонение продукта
      tags:
      - Модерация
  /api/products:
    post:
      consumes:
      - multipart/form-data
      description: Добавляет новый продукт вместе с его вариациями и изображениями
        вариаций
      parameters:
      - description: Bearer <token>
        in: header
        name: Authorization
        required: true
        type: string
      - description: Название продукта
        in: formData
        name: name
        required: true
        type: string
      - description: Описание продукта
        in: formData
        name: description
        type: string
      - description: Цена продукта
        in: formData
        name: price
        required: true
        type: number
      - description: ID категории
        in: formData
        name: category_id
        required: true
        type: integer
      - description: JSON-строка с общими атрибутами продукта
        in: formData
        name: attributes
        required: true
        type: string
      - description: JSON-строка с вариациями продукта
        in: formData
        name: variations
        required: true
        type: string
      - description: Изображения для вариации n
        in: formData
        name: variation_images_{n}
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Продукт успешно добавлен
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Неверный формат данных или ошибки валидации
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Необходима авторизация
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Внутренняя ошибка сервера
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Добавить новый продукт
      tags:
      - Products
  /api/products/{id}:
    put:
      consumes:
      - multipart/form-data
      description: Обновляет информацию о продукте, его вариациях и изображениях
      parameters:
      - description: Bearer <token>
        in: header
        name: Authorization
        required: true
        type: string
      - description: Product ID
        in: path
        name: id
        required: true
        type: integer
      - description: Название продукта
        in: formData
        name: name
        type: string
      - description: Описание продукта
        in: formData
        name: description
        type: string
      - description: Цена продукта
        in: formData
        name: price
        type: number
      - description: ID категории
        in: formData
        name: category_id
        type: integer
      - description: JSON-строка с общими атрибутами продукта
        in: formData
        name: attributes
        type: string
      - description: JSON-строка с вариациями продукта
        in: formData
        name: variations
        type: string
      - description: Изображения для вариации n
        in: formData
        name: variation_images_{n}
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Продукт успешно обновлен
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Неверный формат данных или ошибки валидации
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Необходима авторизация
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Внутренняя ошибка сервера
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Обновить продукт
      tags:
      - Products
  /api/products/moderated:
    get:
      description: Возвращает список продуктов, находящихся на модерации (status_id
        = 3).
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Product'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получение продуктов с модерацией
      tags:
      - Продукты
  /api/products/unmoderated:
    get:
      description: Возвращает список продуктов, прошедших модерацию (status_id = 2).
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Product'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Получение продуктов без модерации
      tags:
      - Продукты
  /api/supplier/categories:
    get:
      description: Получение категорий, связанных с поставщиком по user_id из токена
      produces:
      - application/json
      responses:
        "200":
          description: Список категорий поставщика
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Category'
            type: array
        "401":
          description: Не авторизован
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Ошибка сервера
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get Supplier Categories
      tags:
      - Supplier
  /api/users/check_phone:
    post:
      consumes:
      - application/json
      description: Проверяет, существует ли пользователь с указанным номером телефона
      parameters:
      - description: Номер телефона для проверки
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.CheckPhoneRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.CheckPhoneResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Проверка существования номера телефона
      tags:
      - Авторизация
  /api/users/login:
    post:
      consumes:
      - application/json
      description: Аутентифицирует пользователя и возвращает JWT-токен с ролями.
      parameters:
      - description: Данные для логина
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Логин пользователя
      tags:
      - Авторизация
  /api/users/register:
    post:
      consumes:
      - application/json
      description: Регистрация нового пользователя с указанными ролями.
      parameters:
      - description: Данные для регистрации пользователя
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.RegisterUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.RegisterUserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Регистрация пользователя
      tags:
      - Пользователи
  /api/users/request_password_reset:
    post:
      consumes:
      - application/json
      description: Отправляет код подтверждения на указанный номер телефона для сброса
        пароля
      parameters:
      - description: Номер телефона для сброса пароля
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.RequestPasswordResetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.RequestPasswordResetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Запрос на сброс пароля
      tags:
      - Восстановление доступа
  /api/users/set_new_password:
    post:
      consumes:
      - application/json
      description: Устанавливает новый пароль для пользователя после верификации кода
        сброса пароля
      parameters:
      - description: Данные для установки нового пароля
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.SetNewPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.SetNewPasswordResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Установка нового пароля
      tags:
      - Восстановление доступа
  /api/users/verify_code:
    post:
      consumes:
      - application/json
      description: Проверяет код подтверждения, отправленный на номер телефона.
      parameters:
      - description: Данные для верификации
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Верификация кода подтверждения
      tags:
      - Восстановление доступа
  /attributes:
    get:
      description: Возвращает список атрибутов для указанной категории с учетом is_linked
      parameters:
      - description: ID категории
        in: query
        name: category_id
        required: true
        type: integer
      - description: Флаг is_linked
        in: query
        name: is_linked
        required: true
        type: boolean
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Attribute'
            type: array
        "400":
          description: Некорректные параметры
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "500":
          description: Ошибка сервера
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      summary: Получить атрибуты по категории и is_linked
      tags:
      - Атрибуты
  /categories:
    get:
      consumes:
      - application/json
      description: Возвращает список всех доступных категорий товаров вместе с URL
        изображений.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Category'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Получение списка категорий
      tags:
      - Справочники
  /categories/{category_id}/attributes:
    delete:
      consumes:
      - application/json
      description: Удаляет все атрибуты для указанной категории по её ID
      parameters:
      - description: ID категории
        in: path
        name: category_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: message
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Удаление атрибутов категории
      tags:
      - Category
  /categories/{id}/attributes:
    get:
      consumes:
      - application/json
      description: Возвращает список атрибутов для заданной категории
      parameters:
      - description: ID категории
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.CategoryAttributeResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      summary: Получить атрибуты категории по ID
      tags:
      - Categories
  /categories/{path}/attributes:
    get:
      consumes:
      - application/json
      description: Получает атрибуты категории по её пути (path)
      parameters:
      - description: Путь категории (например, 'root/electronics/phones')
        in: path
        name: path
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.CategoryAttributeResponse'
            type: array
        "400":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Получение атрибутов категории по пути
      tags:
      - Category
  /category/attributes:
    post:
      consumes:
      - application/json
      description: Добавляет или обновляет атрибуты для указанной категории, проверяет
        уникальность по имени
      parameters:
      - description: Запрос на добавление атрибутов категории
        in: body
        name: AddCategoryAttributesRequest
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.AddCategoryAttributesRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Атрибуты успешно добавлены
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "400":
          description: Неверный формат данных
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "401":
          description: Необходима авторизация
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
        "500":
          description: Ошибка сервера
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Добавление или обновление атрибутов категории
      tags:
      - Category
  /markets:
    get:
      consumes:
      - application/json
      description: Возвращает список всех доступных рынков.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Market'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Получение списка рынков
      tags:
      - Справочники
  /register:
    post:
      consumes:
      - application/json
      description: Отправляет код подтверждения на указанный номер телефона.
      parameters:
      - description: Данные для регистрации
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.RegisterResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Отправка кода подтверждения
      tags:
      - Авторизация
  /set_password:
    post:
      consumes:
      - application/json
      description: Устанавливает пароль для пользователя и возвращает JWT-токен с
        ролями.
      parameters:
      - description: Данные для установки пароля
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.SetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.SetPasswordResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Установка пароля
      tags:
      - Авторизация
  /supplier/update_details:
    post:
      consumes:
      - application/json
      description: Обновляет информацию о поставщике.
      parameters:
      - description: Данные для обновления
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.UpdateSupplierDetailsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.UpdateSupplierDetailsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Обновление данных поставщика
      tags:
      - Поставщик
  /verify:
    post:
      consumes:
      - application/json
      description: Проверяет код подтверждения, отправленный на номер телефона.
      parameters:
      - description: Данные для верификации
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.VerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.VerifyCodeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Верификация кода подтверждения
      tags:
      - Авторизация
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
