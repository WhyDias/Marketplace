basePath: /
definitions:
  github_com_WhyDias_Marketplace_internal_controllers.CheckPhoneRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.CheckPhoneResponse:
    properties:
      exists:
        type: boolean
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.ConfirmPasswordResetRequest:
    properties:
      code:
        type: string
      confirm_password:
        type: string
      new_password:
        minLength: 6
        type: string
      username:
        type: string
    required:
    - code
    - confirm_password
    - new_password
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.ConfirmPasswordResetResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.LoginUserRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.LoginUserResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      role:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.Product:
    properties:
      category_id:
        type: integer
      id:
        type: integer
      market_id:
        type: integer
      name:
        type: string
      status_id:
        type: integer
      supplier_id:
        type: integer
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterRequest:
    properties:
      phone_number:
        type: string
    required:
    - phone_number
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterUserRequest:
    properties:
      password:
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - password
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RegisterUserResponse:
    properties:
      created_at:
        type: string
      id:
        type: integer
      username:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RequestPasswordResetRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.RequestPasswordResetResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetNewPasswordRequest:
    properties:
      confirm_password:
        type: string
      new_password:
        minLength: 6
        type: string
      username:
        description: Username используется как phone_number
        type: string
    required:
    - confirm_password
    - new_password
    - username
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetNewPasswordResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetPasswordRequest:
    properties:
      confirm_password:
        type: string
      password:
        minLength: 6
        type: string
      phone_number:
        type: string
    required:
    - confirm_password
    - password
    - phone_number
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.SetPasswordResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeRequest:
    properties:
      code:
        type: string
      phone_number:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_models.Category:
    properties:
      id:
        type: integer
      name:
        type: string
      path:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_models.Market:
    properties:
      id:
        type: integer
      name:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_models.Supplier:
    properties:
      categories:
        items:
          type: integer
        type: array
      created_at:
        type: string
      id:
        type: integer
      is_verified:
        type: boolean
      market_id:
        type: integer
      name:
        type: string
      phone_number:
        type: string
      place:
        type: string
      row_name:
        type: string
      updated_at:
        type: string
      user_id:
        type: integer
    type: object
  github_com_WhyDias_Marketplace_internal_models.UpdateSupplierDetailsResponse:
    properties:
      message:
        type: string
    type: object
  github_com_WhyDias_Marketplace_internal_models.UpdateSupplierRequest:
    properties:
      category:
        type: string
      market_name:
        type: string
      name:
        type: string
      places_rows:
        type: string
    required:
    - category
    - market_name
    - name
    - places_rows
    type: object
  internal_controllers.CheckPhoneRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  internal_controllers.CheckPhoneResponse:
    properties:
      exists:
        type: boolean
    type: object
  internal_controllers.ConfirmPasswordResetRequest:
    properties:
      code:
        type: string
      confirm_password:
        type: string
      new_password:
        minLength: 6
        type: string
      username:
        type: string
    required:
    - code
    - confirm_password
    - new_password
    - username
    type: object
  internal_controllers.ConfirmPasswordResetResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  internal_controllers.LoginUserRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  internal_controllers.LoginUserResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      role:
        type: string
    type: object
  internal_controllers.Product:
    properties:
      category_id:
        type: integer
      id:
        type: integer
      market_id:
        type: integer
      name:
        type: string
      status_id:
        type: integer
      supplier_id:
        type: integer
    type: object
  internal_controllers.RegisterRequest:
    properties:
      phone_number:
        type: string
    required:
    - phone_number
    type: object
  internal_controllers.RegisterResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.RegisterUserRequest:
    properties:
      password:
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - password
    - username
    type: object
  internal_controllers.RegisterUserResponse:
    properties:
      created_at:
        type: string
      id:
        type: integer
      username:
        type: string
    type: object
  internal_controllers.RequestPasswordResetRequest:
    properties:
      username:
        description: Username используется как phone_number
        type: string
    required:
    - username
    type: object
  internal_controllers.RequestPasswordResetResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.SetNewPasswordRequest:
    properties:
      confirm_password:
        type: string
      new_password:
        minLength: 6
        type: string
      username:
        description: Username используется как phone_number
        type: string
    required:
    - confirm_password
    - new_password
    - username
    type: object
  internal_controllers.SetNewPasswordResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.SetPasswordRequest:
    properties:
      confirm_password:
        type: string
      password:
        minLength: 6
        type: string
      phone_number:
        type: string
    required:
    - confirm_password
    - password
    - phone_number
    type: object
  internal_controllers.SetPasswordResponse:
    properties:
      message:
        type: string
    type: object
  internal_controllers.VerifyCodeRequest:
    properties:
      code:
        type: string
      phone_number:
        type: string
    type: object
  internal_controllers.VerifyCodeResponse:
    properties:
      message:
        type: string
    type: object
host: 195.49.215.120:8080
info:
  contact:
    email: support@your-website.com
    name: Support Team
    url: http://your-website.com/support
  description: API для Marketplace приложения.
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT
  termsOfService: http://your-website.com/terms/
  title: Marketplace API
  version: "1.0"
paths:
  /api/products/moderated:
    get:
      consumes:
      - application/json
      description: Возвращает список продуктов, находящихся на модерации (status_id
        = 3)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.Product'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Получить продукты с модерацией
      tags:
      - Products
  /api/products/unmoderated:
    get:
      consumes:
      - application/json
      description: Возвращает список продуктов, не находящихся на модерации (status_id
        = 2)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.Product'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Получить продукты без модерации
      tags:
      - Products
  /api/users/check_phone:
    post:
      consumes:
      - application/json
      description: Проверяет, существует ли пользователь с указанным номером телефона
      parameters:
      - description: Номер телефона для проверки
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.CheckPhoneRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.CheckPhoneResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Проверка существования номера телефона
      tags:
      - Авторизация
  /api/users/confirm_password_reset:
    post:
      consumes:
      - application/json
      description: Проверяет код подтверждения и устанавливает новый пароль для пользователя
      parameters:
      - description: Данные для подтверждения сброса пароля
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.ConfirmPasswordResetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.ConfirmPasswordResetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Подтверждение сброса пароля
      tags:
      - Восстановление доступа
  /api/users/login:
    post:
      consumes:
      - application/json
      description: Аутентифицирует пользователя и возвращает JWT-токен.
      parameters:
      - description: Данные для входа
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.LoginUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.LoginUserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Авторизация пользователя
      tags:
      - Авторизация
  /api/users/register:
    post:
      consumes:
      - application/json
      description: Registers a new user with username and password
      parameters:
      - description: User registration data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.RegisterUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_controllers.RegisterUserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      tags:
      - users
  /api/users/request_password_reset:
    post:
      consumes:
      - application/json
      description: Отправляет код подтверждения на указанный номер телефона для сброса
        пароля
      parameters:
      - description: Номер телефона для сброса пароля
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.RequestPasswordResetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.RequestPasswordResetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Запрос на сброс пароля
      tags:
      - Восстановление доступа
  /api/users/set_new_password:
    post:
      consumes:
      - application/json
      description: Устанавливает новый пароль для пользователя после верификации кода
        сброса пароля
      parameters:
      - description: Данные для установки нового пароля
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.SetNewPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.SetNewPasswordResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Установка нового пароля
      tags:
      - Восстановление доступа
  /api/users/verify_code:
    post:
      consumes:
      - application/json
      description: Проверяет код подтверждения, отправленный на номер телефона.
      parameters:
      - description: Данные для верификации
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.VerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.VerifyCodeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Верификация кода подтверждения
      tags:
      - Восстановление доступа
  /categories:
    get:
      consumes:
      - application/json
      description: Возвращает список всех доступных категорий товаров.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Category'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Получение списка категорий
      tags:
      - Справочники
  /markets:
    get:
      consumes:
      - application/json
      description: Возвращает список всех доступных рынков.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Market'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Получение списка рынков
      tags:
      - Справочники
  /register:
    post:
      consumes:
      - application/json
      description: Отправляет код подтверждения на указанный номер телефона.
      parameters:
      - description: Данные для регистрации
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.RegisterResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Отправка кода подтверждения
      tags:
      - Авторизация
  /set_password:
    post:
      consumes:
      - application/json
      description: Устанавливает пароль для пользователя.
      parameters:
      - description: Данные для установки пароля
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/internal_controllers.SetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_controllers.SetPasswordResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_controllers.ErrorResponse'
      summary: Установка пароля
      tags:
      - Авторизация
  /supplier/update_details:
    post:
      consumes:
      - application/json
      description: Обновляет информацию о поставщике.
      parameters:
      - description: Данные для обновления
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.UpdateSupplierRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.UpdateSupplierDetailsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Обновление данных поставщика
      tags:
      - Поставщик
  /suppliers:
    get:
      description: Retrieves a list of all suppliers
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Supplier'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      tags:
      - suppliers
  /suppliers/info:
    get:
      description: Retrieves information about the authenticated supplier
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_models.Supplier'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      security:
      - BearerAuth: []
      tags:
      - suppliers
  /verify:
    post:
      consumes:
      - application/json
      description: Проверяет код подтверждения, отправленный на номер телефона.
      parameters:
      - description: Данные для верификации
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.VerifyCodeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_WhyDias_Marketplace_internal_controllers.ErrorResponse'
      summary: Верификация кода подтверждения
      tags:
      - Авторизация
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
